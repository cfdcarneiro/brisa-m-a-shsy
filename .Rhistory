melhor_modelo.summary = melhor_modelo.summary %>% mutate(pvalor=0)
melhor_modelo
dat = dados_uteis
meus_preditores = c("Concentration_uM", "Duration_hours")
melhor_modelo = get_R2_for_all_predictors_3a(meus_preditores)
melhor_modelo.summary = melhor_modelo$summary
anova(multi_meta_reg@objects[[1]], btt = 2)
melhor_modelo
dat = dados_uteis
meus_preditores = c("Concentration_uM", "Duration_hours")
melhor_modelo = get_R2_for_all_predictors_3a(meus_preditores)
melhor_modelo.summary = melhor_modelo$summary
melhor_modelo.summary = melhor_modelo.summary %>% mutate(pvalor=0)
melhor_modelo.summary[1,4] = anova(multi_meta_reg@objects[[1]], btt = 2)$QMp
melhor_modelo.summary[2,4] = anova(multi_meta_reg@objects[[1]], btt = 3)$QMp
multi_meta_reg@objects[[1]]
dados_uteis <- dados_meta_smd_max2500
dados_uteis <-  dados_uteis[!apply(dados_uteis[,c("Diferentiation_method", "Abeta_aggregation", "Assay", "Diferentiation_duration_days", "Concentration_uM", "Duration_days", "Cell_density")], 1, anyNA),]
dados_meta_smd_max100 = dados_meta_smd %>% filter(Concentration_uM<100)
meta_concent = rma.mv(yi=yi, V=vi, data = dados_meta_smd_max100, method = "REML", random = ~1|rayyan.key/Comparison_ID, mods = ~dados_meta_smd_max100$Concentration_uM)
meta_concent
summary_concent = data.frame("variable" = c("Abeta concentration"),
"category" = c("intercept", "(uM)"),
"sample size" = c(NA, meta_concent$k),
"Effect size [95% CI] (Hedge's g)" = c(paste(round(meta_concent$b[1,1], 2), " [", round(meta_concent$ci.lb[1], 1), ", ", round(meta_concent$ci.ub[1], 1), "]", sep = ""), paste(meta_concent$b[2,1], " [", meta_concent$ci.lb[2], ", ", meta_concent$ci.ub[2], "]", sep = "")),
"p-value" = c(meta_concent$pval),
"I2" = c(mlm.variance.distribution(meta_concent)$totalI2),
"p-value (QE)" = c(meta_concent$QEp),
"R2" = c(if_else(((sum(meta_3l$sigma2)-sum(meta_concent$sigma2))/sum(meta_3l$sigma2)*100)<0, 0, ((sum(meta_3l$sigma2)-sum(meta_concent$sigma2))/sum(meta_3l$sigma2)*100))),
"p-value (QM)" = c(meta_concent$QMp))
fig_concent_c =
ggplot(dados_meta_smd_max100, aes(x = Concentration_uM, y=yi, size = 1/sqrt(vi))) +
geom_point(shape = 1, stroke = 1) +
labs(y = "Hedge's g", x = "Abeta concentration (uM)") +
theme_classic() +
scale_size_continuous(guide = "none") +
theme(legend.position = "bottom") +
scale_y_continuous(n.breaks = 7) +
scale_x_continuous(n.breaks = 7) +
geom_abline(slope = 0, linetype = "dashed", color = "grey")
fig_concent_f =
ggplot(dados_meta_smd_max100 %>% filter(Concentration_uM<10), aes(x = Concentration_uM, y=yi, size = 1/sqrt(vi))) +
geom_point(shape = 1, stroke = 1) +
theme_classic() +
scale_size_continuous(guide = "none") +
theme(legend.position = "none") +
scale_y_continuous(n.breaks = 7, name = element_blank()) +
scale_x_continuous(n.breaks = 7, name = element_blank()) +
geom_abline(slope = 0, linetype = "dashed", color = "grey")
fig_concent =
fig_concent_c + annotation_custom(ggplotGrob(fig_concent_f), xmin = 250, xmax = 500,
ymin = -850, ymax = -300)
fig_concent
fig_concent_c =
ggplot(dados_meta_smd_max100, aes(x = Concentration_uM, y=yi, size = 1/sqrt(vi))) +
geom_point(shape = 1, stroke = 1) +
labs(y = "Hedge's g", x = "Abeta concentration (uM)") +
theme_classic() +
scale_size_continuous(guide = "none") +
theme(legend.position = "bottom") +
scale_y_continuous(n.breaks = 7) +
scale_x_continuous(n.breaks = 7) +
geom_abline(slope = 0, linetype = "dashed", color = "grey")
fig_concent_f =
ggplot(dados_meta_smd_max100 %>% filter(Concentration_uM<10), aes(x = Concentration_uM, y=yi, size = 1/sqrt(vi))) +
geom_point(shape = 1, stroke = 1) +
theme_classic() +
scale_size_continuous(guide = "none") +
theme(legend.position = "none") +
scale_y_continuous(n.breaks = 7, name = element_blank()) +
scale_x_continuous(n.breaks = 7, name = element_blank()) +
geom_abline(slope = 0, linetype = "dashed", color = "grey")
fig_concent =
fig_concent_c + annotation_custom(ggplotGrob(fig_concent_f), xmin = 250, xmax = 500,
ymin = -850, ymax = -300)
fig_concent
fig_concent =
fig_concent_c + annotation_custom(ggplotGrob(fig_concent_f), xmin = 20, xmax = 80,
ymin = -850, ymax = -300)
fig_concent
fig_concent =
fig_concent_c + annotation_custom(ggplotGrob(fig_concent_f), xmin = 40, xmax = 80,
ymin = -850, ymax = -300)
fig_concent
knitr::opts_chunk$set(echo = F)
library(readxl)
library(tidyverse)
library(metafor)
library(metaviz)
library(glmulti)
library(knitr)
dat = dados_uteis
meus_preditores = c("Concentration_uM", "Duration_hours", "Cell_density")
melhor_modelo = get_R2_for_all_predictors_3a(meus_preditores)
View(melhor_modelo.summary)
melhor_modelo.summary = melhor_modelo$summary
melhor_modelo.summary = melhor_modelo.summary %>% mutate(pvalor=0)
melhor_modelo.summary[1,4] = anova(multi_meta_reg@objects[[2]], btt = 2)$QMp
melhor_modelo.summary[2,4] = anova(multi_meta_reg@objects[[2]], btt = 3)$QMp
melhor_modelo.summary[3,4] = anova(multi_meta_reg@objects[[2]], btt = 4)$QMp
multi_meta_reg@objects[[2]]
#confint(multi_meta_reg@objects[[2]])
mlm.variance.distribution(multi_meta_reg@objects[[2]])
#Pseudo R2:
(sum(meta_3l$sigma2)-sum(multi_meta_reg@objects[[2]]$sigma2))/sum(meta_3l$sigma2)*100
multi_meta_reg@objects[[2]]$pval
multi_meta_reg@objects[[2]]$beta
multi_meta_reg@objects[[2]]$ci.lb
multi_meta_reg@objects[[2]]$ci.ub
#confint(multi_meta_reg@objects[[2]])
mlm.variance.distribution(multi_meta_reg@objects[[2]])
#Pseudo R2:
(sum(meta_3l$sigma2)-sum(multi_meta_reg@objects[[2]]$sigma2))/sum(meta_3l$sigma2)*100
multi_meta_reg@objects[[2]]$QMp
View(dados_por_artigo)
knitr::opts_chunk$set(echo = F)
library(readxl)
library(tidyverse)
library(metafor)
library(metaviz)
library(glmulti)
library(knitr)
ggplot(dados_por_artigo, aes(x=year)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
scale_y_continuous(limits = c(0,50), n.breaks = 10)
ggplot(dados_por_artigo, aes(x=year)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
scale_y_continuous(n.breaks = 10)
ggsave("./Figures/year-histo.png")
View(dados_meta_smd)
dados_meta_smd %>% filter(yi<-900)
dados_meta_smd %>% filter(as.numeric(yi)<-900)
typeof(dados_meta_smd$yi)
filter(dados_meta_smd, dados_meta_smd$yi<-900)
filter(dados_meta_smd, dados_meta_smd$yi < -900)
dados_meta_smd_900 = dados_meta_smd %>% filter(yi >-900)
dados_meta_smd_perc = dados_meta_smd %>% mutate(percSD_control = (control_sd*100)/control_mean)
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(percSD_treated = (treated_sd*100)/treated_mean)
View(dados_meta_smd_perc)
dados_meta_smd_1perc = dados_meta_smd_perc %>% filter(percSD_control < 1 | percentSD_treated < 1)
dados_meta_smd_1perc = dados_meta_smd_perc %>% filter(percSD_control < 1 | percSD_treated < 1)
View(dados_meta_smd_1perc)
dados_meta_smd_1perc = dados_meta_smd_perc %>% filter(percSD_control > 1 | percSD_control == 0) %>% filter(percSD_treated > 1)
dados_meta_smd_perc = dados_meta_smd %>% mutate(percSD_control = (control_sd*100)/control_mean)
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(percSD_treated = (treated_sd*100)/treated_mean)
dados_meta_smd_1perc = dados_meta_smd_perc %>% filter(percSD_control > 1 | percSD_control == 0) %>% filter(percSD_treated > 1)
dados_meta_smd_2perc = dados_meta_smd_perc %>% filter(percSD_control > 2 | percSD_control == 0) %>% filter(percSD_treated > 2)
dados_meta_smd_3perc = dados_meta_smd_perc %>% filter(percSD_control > 3 | percSD_control == 0) %>% filter(percSD_treated > 3)
dados_meta_smd_4perc = dados_meta_smd_perc %>% filter(percSD_control > 4 | percSD_control == 0) %>% filter(percSD_treated > 4)
dados_meta_smd_5perc = dados_meta_smd_perc %>% filter(percSD_control > 5 | percSD_control == 0) %>% filter(percSD_treated > 5)
ggplot(dados_meta_smd_1perc, aes(x = yi, size = 1/vi)) +
geom_jitter() +
theme_classic()
ggplot(dados_meta_smd_1perc, aes(x = yi, size = 1/vi, y = 1)) +
geom_jitter() +
theme_classic()
ggplot(dados_meta_smd_1perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()
A = ggplot(dados_meta_smd_1perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
theme(title = paste("Excluindo SD < 1% da média (n total = ", nrow(dados_meta_smd_1perc), ")"))
ggplot(dados_meta_smd_1perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
theme(title = paste("Excluindo SD < 1% da média (n total = ", nrow(dados_meta_smd_1perc), ")"))
ggplot(dados_meta_smd_1perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
labs(title = paste("Excluindo SD < 1% da média (n total = ", nrow(dados_meta_smd_1perc), ")"))
ggplot(dados_meta_smd_1perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
labs(title = paste("Excluindo SD < 1% da média (n total = ", nrow(dados_meta_smd_1perc), ")", sep = ""))
cowplot::plot_grid(A, B, C, D, E)
A = ggplot(dados_meta_smd_1perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
labs(title = paste("Excluindo SD < 1% da média (n total = ", nrow(dados_meta_smd_1perc), ")", sep = ""))
B = ggplot(dados_meta_smd_2perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
labs(title = paste("Excluindo SD < 2% da média (n total = ", nrow(dados_meta_smd_2perc), ")", sep = ""))
C = ggplot(dados_meta_smd_3perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
labs(title = paste("Excluindo SD < 3% da média (n total = ", nrow(dados_meta_smd_3perc), ")", sep = ""))
D = ggplot(dados_meta_smd_4perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic() +
labs(title = paste("Excluindo SD < 4% da média (n total = ", nrow(dados_meta_smd_4perc), ")", sep = ""))
E = ggplot(dados_meta_smd_5perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Excluindo SD < 5% da média (n total = ", nrow(dados_meta_smd_5perc), ")", sep = ""))
cowplot::plot_grid(A, B, C, D, E)
cowplot::plot_grid(A, B, C, D, E, nrow = 3)
ggsave("./Figures/histo-ES-exclusoes.png")
ggsave("./Figures/histo-ES-exclusoes.png", width = 30, units = "cm")
conferir = dados_completos %>% filter(is.na(Abeta_sequence))
kable(conferir)
install.packages("writexl")
writexl::write_xlsx(conferir, "lista_abeta_indefinido.xlsx")
install.packages("orchaRd")
install.packages('pacman')
rm(list = ls())
devtools::install_github("daniel1noble/orchaRd", ref = "main", force = TRUE)
install.packages("devtools")
rm(list = ls())
devtools::install_github("daniel1noble/orchaRd", ref = "main", force = TRUE)
orchaRd::orchard_plot(meta1, mod = "1", group = "StudyNo", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "grey") +
scale_fill_manual(values = "grey")
knitr::opts_chunk$set(echo = F)
library(readxl)
library(tidyverse)
library(metafor)
library(metaviz)
library(glmulti)
library(knitr)
orchaRd::orchard_plot(meta1, mod = "1", group = "StudyNo", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "grey") +
scale_fill_manual(values = "grey")
orchaRd::orchard_plot(meta1, group = "StudyNo", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "grey") +
scale_fill_manual(values = "grey")
orchaRd::orchard_plot(meta1, xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "grey") +
scale_fill_manual(values = "grey")
View(dados_meta_smd)
orchaRd::orchard_plot(meta1, group = "Comparison_ID", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "grey") +
scale_fill_manual(values = "grey")
orchaRd::orchard_plot(meta1, group = "Comparison_ID", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "black") +
scale_fill_manual(values = "grey")
orchaRd::orchard_plot(meta50, group = "Comparison_ID", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "black") +
scale_fill_manual(values = "grey")
orchaRd::orchard_plot(meta50, group = "Comparison_ID", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "black") +
scale_fill_manual(values = "grey")
ggsave("./Figures/orchard-maior--50.png", width = 50, height = 10, units = "cm")
orchaRd::orchard_plot(meta50, group = "Comparison_ID", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "black") +
scale_fill_manual(values = "grey")
ggsave("./Figures/orchard-maior--50.png", width = 40, height = 20, units = "cm")
orchaRd::orchard_plot(meta50, group = "Comparison_ID", xlab = "Effect size (Hedge's g)",
transfm = "none") +
scale_color_manual(values = "black") +
scale_fill_manual(values = "grey")
ggsave("./Figures/orchard-maior--50.png", width = 30, height = 20, units = "cm")
knitr::opts_chunk$set(echo = F)
library(readxl)
library(tidyverse)
library(metafor)
library(metaviz)
library(glmulti)
library(knitr)
ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_5perc), ")", sep = ""))
dados_meta_smd_perc = dados_meta_smd %>% mutate(percSD_control = (control_sd*100)/control_mean)
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(percSD_treated = (treated_sd*100)/treated_mean)
dados_meta_smd_1perc = dados_meta_smd_perc %>% filter(percSD_control > 1 | percSD_control == 0) %>% filter(percSD_treated > 1)
dados_meta_smd_2perc = dados_meta_smd_perc %>% filter(percSD_control > 2 | percSD_control == 0) %>% filter(percSD_treated > 2)
dados_meta_smd_3perc = dados_meta_smd_perc %>% filter(percSD_control > 3 | percSD_control == 0) %>% filter(percSD_treated > 3)
dados_meta_smd_4perc = dados_meta_smd_perc %>% filter(percSD_control > 4 | percSD_control == 0) %>% filter(percSD_treated > 4)
dados_meta_smd_5perc = dados_meta_smd_perc %>% filter(percSD_control > 5 | percSD_control == 0) %>% filter(percSD_treated > 5)
ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_5perc), ")", sep = ""))
knitr::opts_chunk$set(echo = F)
library(readxl)
library(tidyverse)
library(metafor)
library(metaviz)
library(glmulti)
library(knitr)
dados_limpos = read_xlsx("dados_limpos-revisado.xlsx")
dados_completos1 = dados_limpos %>% filter(control_mean!=0&!is.na(control_mean)&treated_mean!=0&!is.na(treated_mean)&treated_variation!=0&!is.na(treated_variation))
dados_completos = dados_completos1 %>% filter(control_n!=0&!is.na(control_n)&treated_n!=0&!is.na(treated_n))
#dados_sem_n = dados_completos1 %>% filter(control_n==0|is.na(control_n)|treated_n==0|is.na(treated_n))
#writexl::write_xlsx(dados_sem_n, "dados_sem_n.xlsx")
dados_completos[dados_completos=="WST-1"] = "WST"
dados_completos[dados_completos=="WST-8"] = "WST"
dados_completos = dados_completos %>% rename(control_mean_original = control_mean) %>%
rename(treated_mean_original = treated_mean) %>%
rename(control_variation_original = control_variation) %>%
rename(treated_variation_original = treated_variation)
dados_completos = dados_completos %>% mutate(control_mean =
if_else(is.na(control_mean_double_check)==T, true = control_mean_original, false = control_mean_double_check))
dados_completos = dados_completos %>% mutate(treated_mean =
if_else(is.na(treated_mean_double_check)==T, true = treated_mean_original, false = treated_mean_double_check))
dados_completos = dados_completos %>% mutate(control_variation =
if_else(is.na(control_variation_double_check)==T, true = control_variation_original, false = control_variation_double_check))
dados_completos = dados_completos %>% mutate(treated_variation =
if_else(is.na(treated_variation_double_check)==T, true = treated_variation_original, false = treated_variation_double_check))
dados_completos = dados_completos %>% mutate(control_sd =
if_else(condition = variation=="SD", true = control_variation, false = (control_variation*sqrt(control_n))))
dados_completos = dados_completos %>% mutate(treated_sd =
if_else(condition = variation=="SD", true = treated_variation, false = (treated_variation*sqrt(treated_n))))
dados_two_sample = dados_completos %>% filter(!is.na(control_sd)) %>% filter(control_sd!=0)
dados_one_sample = dados_completos %>% filter(is.na(control_sd)|control_sd==0)
dados_two_sample_smd = escalc(measure = "SMD", m1i = as.numeric(treated_mean), m2i = as.numeric(control_mean), sd1i = as.numeric(treated_sd), sd2i = as.numeric(control_sd), n1i = as.numeric(treated_n), n2i = as.numeric(control_n), data = dados_two_sample)
dados_one_sample_smd = escalc(measure = "SMD", m1i = as.numeric(treated_mean), m2i = as.numeric(control_mean), sd1i = as.numeric(treated_sd), sd2i = as.numeric(treated_sd), n1i = as.numeric(treated_n), n2i = as.numeric(control_n), data = dados_one_sample)
dados_meta_smd = rbind(dados_two_sample_smd, dados_one_sample_smd)
dados_meta_smd = dados_meta_smd %>% mutate(Comparison_ID = 1:nrow(dados_meta_smd))
dados_meta_smd = dados_meta_smd %>% mutate(mean_n = (treated_n+control_n)/2)
dados_meta_smd = dados_meta_smd %>% mutate(Duration_days = Duration_hours/24)
dados_meta_smd_900 = dados_meta_smd %>% filter(yi >-900)
dados_meta_smd_100 = dados_meta_smd %>% filter(yi >-100)
dados_meta_smd_50 = dados_meta_smd %>% filter(yi >-50)
dados_meta_smd_20 = dados_meta_smd %>% filter(yi >-20)
dados_meta_smd_10 = dados_meta_smd %>% filter(yi >-10)
dados_meta_smd_perc = dados_meta_smd %>% mutate(percSD_control = (control_sd*100)/control_mean)
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(percSD_treated = (treated_sd*100)/treated_mean)
dados_meta_smd_1perc = dados_meta_smd_perc %>% filter(percSD_control > 1 | percSD_control == 0) %>% filter(percSD_treated > 1)
dados_meta_smd_2perc = dados_meta_smd_perc %>% filter(percSD_control > 2 | percSD_control == 0) %>% filter(percSD_treated > 2)
dados_meta_smd_3perc = dados_meta_smd_perc %>% filter(percSD_control > 3 | percSD_control == 0) %>% filter(percSD_treated > 3)
dados_meta_smd_4perc = dados_meta_smd_perc %>% filter(percSD_control > 4 | percSD_control == 0) %>% filter(percSD_treated > 4)
dados_meta_smd_5perc = dados_meta_smd_perc %>% filter(percSD_control > 5 | percSD_control == 0) %>% filter(percSD_treated > 5)
ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_5perc), ")", sep = ""))
ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_perc), ")", sep = ""))
H = ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
geom_point(dados_meta_smd_perc = dados_meta_smd_perc[dados_meta_smd_perc == -900], aes(x = yi, y = 0.5), color = "red", size = 3) +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_perc), ")", sep = ""))
ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
geom_point(dados_meta_smd_perc = dados_meta_smd_perc[dados_meta_smd_perc == -900], aes(x = yi, y = 0.5), color = "red", size = 3) +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_perc), ")", sep = ""))
ggplot(data.frame(yi = dados_meta_smd_perc), aes(x = yi)) +
geom_histogram(binwidth = 1, fill = "steelblue", color = "black", alpha = 0.7) +
geom_point(dados_meta_smd_perc = dados_meta_smd_perc[dados_meta_smd_perc==-900], aes(x = yi, y = 0.5), color = "red", size = 3) +
labs(title = "Histogram with -900 Value",
x = "Value",
y = "Frequency") +
theme_minimal()
ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, fill = "steelblue", color = "black", alpha = 0.7) +
geom_point(dados_meta_smd_perc = dados_meta_smd_perc[dados_meta_smd_perc==-900], aes(x = yi, y = 0.5), color = "red", size = 3) +
labs(title = "Histogram with -900 Value",
x = "Value",
y = "Frequency") +
theme_minimal()
ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_perc), ")", sep = "")) +
scale_x_continuous(limits = c(-100, max(dados_meta_smd_perc$yi)))
H = ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_perc %>% filter(yi>-100)), ")", sep = "")) +
scale_x_continuous(limits = c(-100, max(dados_meta_smd_perc$yi)))
ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_perc %>% filter(yi>-100)), ")", sep = "")) +
scale_x_continuous(limits = c(-100, max(dados_meta_smd_perc$yi)))
cowplot::plot_grid(G,H, nrow = 1)
G = ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_perc), ")", sep = ""))
H = ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Excluindo ES < -100 (n total = ", nrow(dados_meta_smd_perc %>% filter(yi>-100)), ")", sep = "")) +
scale_x_continuous(limits = c(-100, max(dados_meta_smd_perc$yi)))
cowplot::plot_grid(G,H, nrow = 1)
ggsave("./Figures/histo-ES-exclusoes-2.png", width = 20, units = "cm")
G = ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Sem exclusoes (n total = ", nrow(dados_meta_smd_perc), ")", sep = ""))
H = ggplot(dados_meta_smd_perc, aes(x = yi)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Excluindo ES < -100 (n total = ", nrow(dados_meta_smd_perc %>% filter(yi>-100)), ")", sep = "")) +
scale_x_continuous(limits = c(-100, max(dados_meta_smd_perc$yi)))
cowplot::plot_grid(G,H, nrow = 1)
ggsave("./Figures/histo-ES-exclusoes-2.png", width = 30, units = "cm")
cowplot::plot_grid(G,H, nrow = 2)
ggsave("./Figures/histo-ES-exclusoes-2.png", width = 60, units = "cm")
cowplot::plot_grid(G,H, nrow = 2)
ggsave("./Figures/histo-ES-exclusoes-2.png", width = 30, height = 40, units = "cm")
cowplot::plot_grid(G,H, nrow = 2)
ggsave("./Figures/histo-ES-exclusoes-2.png", width = 60, height = 20, units = "cm")
cowplot::plot_grid(G,H, nrow = 2)
ggsave("./Figures/histo-ES-exclusoes-2.png", width = 60, height = 40, units = "cm")
cowplot::plot_grid(G,H, nrow = 1)
ggsave("./Figures/histo-ES-exclusoes-2.png", width = 30, height = 10, units = "cm")
ggplot(dados_meta_smd_perc, aes(x = percSD_control)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = paste("Controle, sem exclusoes (n =", nrow(dados_meta_smd_perc), ")", sep = ""))
ggplot(dados_meta_smd_perc, aes(x = percSD_control)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = "Controle, sem exclusoes")
ggplot(dados_meta_smd_perc, aes(x = percSD_treated)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = "Tratados, sem exclusoes")
ggplot(dados_meta_smd_perc, aes(x = control_sd/control_mean)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = "Controle, sem exclusoes")
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(control_coef_var = control_sd/control_mean)
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(treated_coef_var = treated_sd/treated_mean)
ggplot(dados_meta_smd_perc, aes(x = control_coef_var)) +
geom_histogram(binwidth = 1, color="black", fill = "white") +
theme_classic()  +
labs(title = "Controle, sem exclusoes")
ggplot(dados_meta_smd_perc, aes(x = control_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic()  +
labs(title = "Controle, sem exclusoes")
ggplot(dados_meta_smd_perc, aes(x = treated_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic()  +
labs(title = "Tratados, sem exclusoes")
dados_meta_smd_perc = dados_meta_smd %>% mutate(percSD_control = (control_sd*100)/control_mean)
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(percSD_treated = (treated_sd*100)/treated_mean)
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(control_coef_var = control_sd/control_mean)
dados_meta_smd_perc = dados_meta_smd_perc %>% mutate(treated_coef_var = treated_sd/treated_mean)
dados_meta_smd_1perc = dados_meta_smd_perc %>% filter(percSD_control > 1 | percSD_control == 0) %>% filter(percSD_treated > 1)
dados_meta_smd_2perc = dados_meta_smd_perc %>% filter(percSD_control > 2 | percSD_control == 0) %>% filter(percSD_treated > 2)
dados_meta_smd_3perc = dados_meta_smd_perc %>% filter(percSD_control > 3 | percSD_control == 0) %>% filter(percSD_treated > 3)
dados_meta_smd_4perc = dados_meta_smd_perc %>% filter(percSD_control > 4 | percSD_control == 0) %>% filter(percSD_treated > 4)
dados_meta_smd_5perc = dados_meta_smd_perc %>% filter(percSD_control > 5 | percSD_control == 0) %>% filter(percSD_treated > 5)
ggplot(dados_meta_smd_perc, aes(x = treated_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic()  +
labs(title = "Tratados, sem exclusoes")
cowplot::plot_grid(I, J, K, L, M, N, O, P, Q, R, S, U, ncol = 2)
I = ggplot(dados_meta_smd_perc, aes(x = control_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic()  +
labs(title = "Controles, sem exclusoes")
J = ggplot(dados_meta_smd_perc, aes(x = treated_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic()  +
labs(title = "Tratados, sem exclusoes")
K = ggplot(dados_meta_smd_1perc, aes(x = control_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Controles, Excluindo SD < 1% da média")
L = ggplot(dados_meta_smd_1perc, aes(x = treated_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Tratados, Excluindo SD < 1% da média")
M = ggplot(dados_meta_smd_2perc, aes(x = control_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Controles, Excluindo SD < 2% da média")
N = ggplot(dados_meta_smd_2perc, aes(x = treated_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Tratados, Excluindo SD < 2% da média")
O = ggplot(dados_meta_smd_3perc, aes(x = control_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Controles, Excluindo SD < 3% da média")
P = ggplot(dados_meta_smd_3perc, aes(x = treated_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Tratados, Excluindo SD < 3% da média")
Q = ggplot(dados_meta_smd_4perc, aes(x = control_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Controles, Excluindo SD < 4% da média")
R = ggplot(dados_meta_smd_4perc, aes(x = treated_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Tratados, Excluindo SD < 4% da média")
S = ggplot(dados_meta_smd_5perc, aes(x = control_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Controles, Excluindo SD < 5% da média")
U = ggplot(dados_meta_smd_5perc, aes(x = treated_coef_var)) +
geom_histogram(color="black", fill = "white") +
theme_classic() +
labs(title = "Tratados, Excluindo SD < 5% da média")
cowplot::plot_grid(I, J, K, L, M, N, O, P, Q, R, S, U, ncol = 2)
cowplot::plot_grid(I, J, K, L, M, N, O, P, Q, R, S, U, ncol = 2)
ggsave("./Figures/histo-coef-var.png", width = 30, height = 60, units = "cm")
writexl::write_xlsx(dados_meta_smd_perc, "dados-m-a.xlsx")
